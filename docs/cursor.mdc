---
description: Cursor IDE instructions for working with Sentry MCP codebase
globs: 
alwaysApply: true
---
# Cursor IDE Instructions for Sentry MCP

This file provides instructions for Cursor IDE when working with the Sentry MCP codebase.

## Project Overview

Sentry MCP is a Model Context Protocol server that provides access to Sentry's functionality through tools, prompts, and resources.

## Documentation

All documentation is in the `docs/` directory:

### Core References
- `architecture.mdc` - System design and package structure
- `common-patterns.mdc` - Reusable code patterns
- `quality-checks.mdc` - Required quality checks

### Implementation Guides  
- `adding-tools.mdc` - Adding new MCP tools
- `adding-prompts.mdc` - Adding new MCP prompts
- `adding-resources.mdc` - Adding new MCP resources

### Technical References
- `api-patterns.mdc` - Sentry API client usage
- `testing.mdc` - Testing strategies
- `deployment.mdc` - Cloudflare deployment
- `monitoring.mdc` - Observability patterns
- `security.mdc` - Authentication and security

You should ALWAYS update docs when they are inaccurate or you have learned new relevant information which would add clarity that is otherwise missing.

## Critical Quality Checks

**After ANY code changes, you MUST run:**

```bash
pnpm -w run lint:fix    # Fix linting issues
pnpm tsc --noEmit       # Check TypeScript types
pnpm test               # Run all tests
```

**DO NOT proceed if any check fails.**

## Essential Commands

```bash
# Development
pnpm dev                # Start all dev servers
pnpm build              # Build all packages
pnpm inspector          # Test tools interactively

# Testing
pnpm test               # Unit tests
pnpm eval               # Evaluation tests (needs OPENAI_API_KEY)

# Deployment
pnpm deploy             # Deploy to Cloudflare
```

## Quick Start

1. Install dependencies: `pnpm install`
2. For local testing: `pnpm start:stdio --access-token=<token>`
3. For development: `pnpm dev`

## Cursor-Specific Notes

When using Cursor's MCP integration:
- The server runs via stdio transport
- Authentication uses access tokens (not OAuth)
- Follow the patterns in existing code

## Environment Variables

See specific guides for required environment variables:
- Cloudflare: `deployment.mdc`
- Evaluation tests: `.env.example`
- Local development: Use command-line args

## References

- MCP Protocol: https://modelcontextprotocol.io
- Sentry API: https://docs.sentry.io/api/
