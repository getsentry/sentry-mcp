
 ⛅️ wrangler 4.29.1 (update available 4.31.0)
─────────────────────────────────────────────
Using redirected Wrangler configuration.
 - Configuration being used: "dist/sentry_mcp/wrangler.json"
 - Original user's configuration: "wrangler.jsonc"
 - Deploy configuration file: ".wrangler/deploy/config.json"
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mProcessing dist/sentry_mcp/wrangler.json configuration:[0m

    - "unsafe" fields are experimental and may change or break at any time.


Using vars defined in .env
Your Worker has access to the following bindings:
Binding                                                          Resource                     Mode
env.MCP_OBJECT (SentryMCP)                                       Durable Object               local
env.OAUTH_KV (8dd5e9bafe1945298e2d5ca3b408a553)                  KV Namespace                 local
env.AI                                                           AI                           remote
env.ASSETS                                                       Assets                       local
env.CF_VERSION_METADATA                                          Worker Version Metadata      local
env.ratelimit (CHAT_RATE_LIMITER)                                Unsafe Metadata              remote
env.ratelimit (SEARCH_RATE_LIMITER)                              Unsafe Metadata              remote
env.SENTRY_CLIENT_ID ("(hidden)")                                Environment Variable         local
env.SENTRY_CLIENT_SECRET ("(hidden)")                            Environment Variable         local
env.COOKIE_SECRET ("(hidden)")                                   Environment Variable         local
env.OPENAI_API_KEY ("(hidden)")                                  Environment Variable         local
env.MCP_HOST ("(hidden)")                                        Environment Variable         local

Attaching additional modules:
┌─────────────────────────────────────┬──────┬────────────┐
│ Name                                │ Type │ Size       │
├─────────────────────────────────────┼──────┼────────────┤
│ assets/mimetext.node.es-0y9E7DLl.js │ esm  │ 218.69 KiB │
├─────────────────────────────────────┼──────┼────────────┤
│ Total (1 module)                    │      │ 218.69 KiB │
└─────────────────────────────────────┴──────┴────────────┘
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mUsing Workers AI always accesses your Cloudflare account in order to run AI models, and so will incur usage charges even in local development.[0m


⎔ Starting local server...
[wrangler:info] Ready on http://localhost:8788
[wrangler:info] GET / 200 OK (11ms)
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mOAuth error response: 401 invalid_token - Missing or invalid access token[0m


[wrangler:info] POST /mcp 401 Unauthorized (10ms)
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mOAuth error response: 401 invalid_token - Missing or invalid access token[0m


[wrangler:info] POST /mcp/sentry 401 Unauthorized (2ms)
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mOAuth error response: 401 invalid_token - Missing or invalid access token[0m


[wrangler:info] POST /mcp/sentry/mcp-server 401 Unauthorized (2ms)
[33m▲ [43;33m[[43;30mWARNING[43;33m][0m [1mOAuth error response: 401 invalid_token - Missing or invalid access token[0m


[wrangler:info] GET /sse 401 Unauthorized (2ms)
[wrangler:info] GET /api/metadata 401 Unauthorized (4ms)
[31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mHTTPException [Error][0m

      at csrf2 (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/middleware/csrf/index.js:28:13)
      at dispatch (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:22:23)
      at null.<anonymous> (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:22:46)
      at secureHeaders2 (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/middleware/secure-headers/secure-headers.js:79:11)
      at dispatch (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:22:23)
      at null.<anonymous> (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:22:46)
      at null.<anonymous> (file:///Users/dcramer/src/sentry-mcp/packages/mcp-cloudflare/src/server/app.ts:29:11)
      at dispatch (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:22:23)
      at null.<anonymous> (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/compose.js:5:12)
      at null.<anonymous> (file:///Users/dcramer/src/sentry-mcp/node_modules/.pnpm/hono@4.8.3/node_modules/hono/dist/hono-base.js:201:31) {
    res: Response {
      status: 403,
      statusText: 'Forbidden',
      headers: Headers(1) {
        'content-type' => 'text/plain;charset=UTF-8',
        [immutable]: false
      },
      ok: false,
      redirected: false,
      url: '',
      webSocket: null,
      cf: undefined,
      type: 'default',
      body: ReadableStream {
        locked: false,
        [state]: 'readable',
        [supportsBYOB]: true,
        [length]: 9n
      },
      bodyUsed: false
    },
    status: 403,
    [cause]: undefined
  }


[wrangler:info] POST /api/chat 500 Internal Server Error (6ms)
[wrangler:info] GET /oauth/authorize 400 Bad Request (2ms)
[wrangler:info] GET /robots.txt 200 OK (1ms)
[wrangler:info] GET /llms.txt 200 OK (2ms)
[wrangler:info] GET / 200 OK (2ms)
[wrangler:info] GET / 200 OK (2ms)
🪵  Logs were written to "/Users/dcramer/Library/Preferences/.wrangler/logs/wrangler-2025-08-18_18-07-21_641.log"
